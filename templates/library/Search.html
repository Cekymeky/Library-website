{% extends "base.html" %} {% load static %}

{% block title %} 
search 
{% endblock title %} 


{% block content %}
<form method="GET" autocomplete="off">
  <div class="search">
    <img src="{% static "Images/icons/observation.png" %}" alt="Search" />
    <div class="search-area">
      <input
        type="search"
        name="search"
        id="search-bar"
        placeholder="Search for a book..."
      />
    </div>
    <div id="Search-by">
      <h1>Search by</h1>
      <div class="radio">
        <input
          type="radio"
          name="searchBy"
          id="search-by-title"
          value="title"
          checked="checked"
        />
        <label for="search-by-title">title</label>
      </div>
      <div class="radio">
        <input
          type="radio"
          name="searchBy"
          id="search-by-author"
          value="author"
        />
        <label for="search-by-author">author</label>
      </div>
      <div class="radio">
        <input
          type="radio"
          name="searchBy"
          id="search-by-genre"
          value="genre"
        />
        <label for="search-by-genre">genre</label>
      </div>
    </div>
    <button type="submit" class="btn" id="search-button">
      <i class="fa-solid fa-magnifying-glass"></i>
      Search
    </button>
  </div>
</form>
<div class="results">
  <h1 id="results-text">The results</h1>
  <div class="books-section" id="The-result-Books-section">

    {% for res in books %}
      <div class="book">
        <img src="{{res.cover.url}}" alt="{{res.id}}" />
        <h5 class="name">
          {{res.title}}
        </h5>
        <a class="previewButton" book-id="{{res.id}}" href="{{res.get_absolute_url}}">Details</a>
      </div>
    {% endfor %}

    {% if not books %}
      <h1 style="text-align: center">No books found</h2>
      <p></p>
    {% endif %}
  </div>
</div>
{% endblock content %}
